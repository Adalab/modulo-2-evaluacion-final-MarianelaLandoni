"use strict";const inputUser=document.querySelector(".js_inputUser"),btnSearch=document.querySelector(".js_btnSearch"),listResults=document.querySelector(".js_listResults"),listFavourites=document.querySelector(".js_listFavourites");let dataAnime=[],favouritesAnime=[];function renderFavourites(){let e="";for(const i of favouritesAnime)e+=`<li class=" js_eachAnime" id="${i.mal_id} "><h3>${i.title}</h3><img src=${i.images.jpg.image_url}></li>`;listFavourites.innerHTML=e}function handleClickFavourite(e){const i=parseInt(e.currentTarget.id),t=dataAnime.find(e=>e.mal_id===i),n=favouritesAnime.findIndex(e=>e.mal_id===i);-1===n?favouritesAnime.push(t):favouritesAnime.splice(n,1),renderFavourites(),listenerAnimes()}function listenerAnimes(){const e=document.querySelectorAll(".js_eachAnime");for(const i of e)i.addEventListener("click",handleClickFavourite)}function renderAnime(){let e="",i="";for(const t of dataAnime){i=-1!==favouritesAnime.findIndex(e=>t.mal_id===e.mal_id)?"selected":"",e+=`<li class="${i} js_eachAnime" id="${t.mal_id} "><h3>${t.title}</h3><img src=${t.images.jpg.image_url}></li>`}listResults.innerHTML=e,listenerAnimes()}function getAnimeData(){const e=inputUser.value;fetch("https://api.jikan.moe/v4/anime?q="+e).then(e=>e.json()).then(e=>{dataAnime=e.data,renderAnime()})}function handleClick(e){e.preventDefault(),getAnimeData()}btnSearch.addEventListener("click",handleClick);